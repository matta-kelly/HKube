# ==============================================================================
# Cilium Helm Values
# ==============================================================================
# Configuration for cilium on k3s hybrid cluster
# ==============================================================================

# Match k3s default pod CIDR
ipam:
  operator:
    clusterPoolIPv4PodCIDRList:
      - "10.42.0.0/16"

# Single replica for single-node control plane
operator:
  replicas: 1

# Hubble observability (disabled for now, enable later if needed)
hubble:
  relay:
    enabled: false
  ui:
    enabled: false

# Replace kube-proxy with eBPF
# Use control plane's Tailscale IP so workers can reach the API server
kubeProxyReplacement: "true"
k8sServiceHost: "{{ k8s_api_host }}"
k8sServicePort: "6443"