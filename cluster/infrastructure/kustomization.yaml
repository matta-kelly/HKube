# ==============================================================================
# Infrastructure - Flux Kustomizations
# ==============================================================================
# Deploys infrastructure in stages using Flux dependsOn:
#   1. controllers  - Base operators (cert-manager, cloudnative-pg, traefik)
#   2. configs      - CRD-dependent configs (ClusterIssuers) - depends on controllers
#   3. services     - Apps (authentik, prometheus, seaweedfs) - depends on controllers
# ==============================================================================

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - controllers.yaml
  - configs.yaml
  - services.yaml
