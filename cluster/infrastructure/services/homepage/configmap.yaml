# ==============================================================================
# Homepage Configuration
# ==============================================================================
# Dashboard configuration for services, widgets, and settings.
# Docs: https://gethomepage.dev/latest/configs/
# ==============================================================================

apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-config
  namespace: homepage
data:
  # ---------------------------------------------------------------------------
  # Settings
  # ---------------------------------------------------------------------------
  settings.yaml: |
    title: H-Kube Dashboard
    favicon: https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons/png/kubernetes.png
    theme: dark
    color: slate
    headerStyle: clean
    layout:
      Infrastructure:
        style: row
        columns: 4
      Media:
        style: row
        columns: 3
      Homelab:
        style: row
        columns: 2
      Clients:
        style: row
        columns: 2

  # ---------------------------------------------------------------------------
  # Services - Main dashboard content
  # ---------------------------------------------------------------------------
  services.yaml: |
    - Infrastructure:
        - Grafana:
            icon: grafana.png
            href: https://grafana.kube.datamountainsolutions.com
            description: Metrics & Dashboards
            siteMonitor: https://grafana.kube.datamountainsolutions.com
        - Authentik:
            icon: authentik.png
            href: https://auth.kube.datamountainsolutions.com
            description: Identity & SSO
            siteMonitor: https://auth.kube.datamountainsolutions.com
        - Headscale:
            icon: tailscale.png
            href: https://headscale.datamountainsolutions.com
            description: Mesh VPN Coordinator
            siteMonitor: https://headscale.datamountainsolutions.com
        - Forgejo:
            icon: forgejo.png
            href: https://forgejo.datamountainsolutions.com
            description: Git Server
            siteMonitor: https://forgejo.datamountainsolutions.com
        - Traefik:
            icon: traefik.png
            href: https://grafana.kube.datamountainsolutions.com/d/traefik/traefik
            description: Ingress Controller
        - ASUS Admin:
            icon: asus-router.png
            href: http://192.168.50.1/
            description: Router Admin

    - Media:
        - Jellyfin:
            icon: jellyfin.png
            href: https://jellyfin.homenetes.datamountainsolutions.com
            description: Media Server
            siteMonitor: https://jellyfin.homenetes.datamountainsolutions.com
        - Jellyseerr:
            icon: jellyseerr.png
            href: https://requests.homenetes.datamountainsolutions.com
            description: Media Requests
            siteMonitor: https://requests.homenetes.datamountainsolutions.com
        - Sonarr:
            icon: sonarr.png
            href: http://sonarr.media.svc:8989
            description: TV Shows
        - Radarr:
            icon: radarr.png
            href: http://radarr.media.svc:7878
            description: Movies
        - Prowlarr:
            icon: prowlarr.png
            href: http://prowlarr.media.svc:9696
            description: Indexer Manager
        - qBittorrent:
            icon: qbittorrent.png
            href: http://qbittorrent.media.svc:8080
            description: Torrent Client (VPN)

    - Homelab:
        - Immich:
            icon: immich.png
            href: https://immich.homenetes.datamountainsolutions.com
            description: Photo Management
            siteMonitor: https://immich.homenetes.datamountainsolutions.com
        - Vaultwarden:
            icon: vaultwarden.png
            href: https://vaultwarden.homenetes.datamountainsolutions.com
            description: Password Manager
            siteMonitor: https://vaultwarden.homenetes.datamountainsolutions.com

    - Clients:
        - Airbyte (Lotus Lake):
            icon: airbyte.png
            href: https://airbyte.landl.datamountainsolutions.com
            description: Data Integration
            siteMonitor: https://airbyte.landl.datamountainsolutions.com
        - Dagster (Lotus Lake):
            icon: dagster.png
            href: https://dagster.landl.datamountainsolutions.com
            description: Data Orchestration
            siteMonitor: https://dagster.landl.datamountainsolutions.com

  # ---------------------------------------------------------------------------
  # Widgets - Top bar information
  # ---------------------------------------------------------------------------
  widgets.yaml: |
    - kubernetes:
        cluster:
          show: true
          cpu: true
          memory: true
          showLabel: true
          label: "H-Kube"
        nodes:
          show: true
          cpu: true
          memory: true
          showLabel: true
    - datetime:
        format:
          dateStyle: short
          timeStyle: short
          hour12: false

  # ---------------------------------------------------------------------------
  # Bookmarks - Quick links
  # ---------------------------------------------------------------------------
  bookmarks.yaml: |
    - Developer:
        - GitHub:
            - icon: github.png
              href: https://github.com/matta-kelly
        - GitOps Repo:
            - icon: git.png
              href: https://github.com/matta-kelly/HKube

    - External:
        - Hetzner Cloud:
            - icon: hetzner.png
              href: https://console.hetzner.cloud
        - Porkbun DNS:
            - icon: porkbun.png
              href: https://porkbun.com/account/domainsSpe498
        - Cloudflare:
            - icon: cloudflare.png
              href: https://dash.cloudflare.com/cbf163d7b9bb9a346daca89ee24538cf/home/domains

  # ---------------------------------------------------------------------------
  # Docker - Not used (k8s mode)
  # ---------------------------------------------------------------------------
  docker.yaml: |

  # ---------------------------------------------------------------------------
  # Kubernetes - Service discovery config
  # ---------------------------------------------------------------------------
  kubernetes.yaml: |
    mode: cluster
